# CH5-1

![](/Images/b7136a8d-910b-4380-b59b-c073b8d421f0.png)

---

## 路由

- 目标 

  - 在交换机上为数据报网络构建路由表 

  - 在为虚电路网络建立连接时选择路径并构建转发表 

- 所需特性 

  - 效率：例如，尽可能小的线路或交换机

  -  弹性：峰值负载、交换机或线路故障 

  - 稳定性：避免振荡

![]/Images/0bea8916-7135-4dc6-ae78-b257747d7f0f.png)

### 路由元素 

-  性能标准
-  决策时间
- 决策地点 
- 网络信息源
- 网络信息更新时机

### 性能标准

![]/Images/d4c990f2-0605-4bb7-b716-d631fa97e706.png)

-  最小跳数  例如：1-3–6 
- 最低成本 例如：1-4–5-6 
- 确定成本 
  -  最小延迟：队列长度 
  -  最大吞吐量：传输速率的倒数

### 决策时间和地点 

-  时间 
  -  对于每个数据包 --- 数据报网络 
  -  在每条虚拟电路开始时 --- 虚电路网络 
-  地点
  -   集中式 
  -  源节点 --- 源路由 
  - 分布式 --- 由每个交换节点决定

### 网络信息源和更新时机 

- 信息源 
  - 本地信息 
  - 相邻交换机 
  - 网络中所有交换机 
- 更新时机 
  - 定期更新 
  - 当交换机或链路发生重大变化时
  -  固定（手动配置）

### 不同的路由策略 

- 集中式（静态） 
  - 固定且预先配置 

-  分布式 

  -  洪泛

  - 随机 

  - 自适应

### 集中式路由

-  每对源到目的地之间有单一固定的路由 
- 使用最低成本算法确定路由 
- 在网络拓扑发生重大变化时重新配置路由

![]/Images/3401a73f-c4ac-4c29-84dd-991252e3f03b.png)

### 洪泛

-  不需要网络信息 
- 交换机将数据包发送给每一个邻居 
  - 数据包在每个链路上重新传输，除了进入的链路之外
-  最终会有多个副本抵达目的地 
- 副本问题 
  - 会创建许多相同数据包的副本 
- 循环问题 
  -  这些副本可能会永远在网络中循环 
  - 数据包中的跳数限制可以解决这个问题

![]/Images/d7955f84-dcaa-41e3-8d5c-1ed8a558260a.png)

### 洪泛的特性 

-  尝试所有可能的路径 
  -  非常健壮 
- 至少会有一个数据包走最低成本路径 
  - 可用于建立虚拟电路 
- 所有交换机都会被访问到 
  - 有助于分发信息（例如路由信息）

### 随机路由

-  节点选择一条外出路径来重新传输进入的数据包 
  - 选择可以是随机的或轮转方式进行 
  - 或者基于概率计算进行选择 
- 不需要网络信息 
- 适用于强连通网络 
- 路由通常不是最优的

![]/Images/b0915f5b-178d-4754-98a5-87aa7028ea0f.png)

### 自适应路由 

- 几乎所有的分组交换网络都使用
-  随着网络状况的变化，路由决策也会改变
-   需要有关网络的信息
  -   网络信息的质量与开销之间存在权衡 
- 有助于拥塞控制

![]/Images/a030afdf-e963-4dad-8297-2eafeaa33415.png)

## 最短路算法

- Dijkstra
- Bellman-ford

![]/Images/20482a6c-b485-4571-a8e3-1979c87ac32f.png)

![]/Images/e63aafe3-17d1-4fd8-86a4-d097a3769cac.png)
